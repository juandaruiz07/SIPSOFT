<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<h:outputStylesheet library="css" name="bootstrap.min.css" />
<h:outputScript library="js" name="bootstrap.bundle.min.js"/>
<ui:composition template="/WEB-INF/template.xhtml">
<ui:define name="title">Modificar productos</ui:define>
<div class="mt-4">
<ui:define name="content" >
<div id="container">


    <h3> Modificar Producto</h3>
    <h:form>


        <h:panelGrid columns="2" cellpadding="5">

            <p:outputLabel value="Codigo: " />
            <p:outputLabel value="#{seguridadBean.productoModificado.codigo}" />


            <p:outputLabel value="Nombre: " for="nombre_p"/>
            <p:inputText id="nombre_p" value="#{seguridadBean.productoModificado.nombre}" required="true" />

            <p:outputLabel value="Precio:" for="precio_p"/>
            <p:inputText id="precio_p" value="#{seguridadBean.productoModificado.precio}" required="true"/>


            <p:outputLabel value="Unidades:" for="unidades_p"/>
            <p:inputText id="unidades_p" value="#{seguridadBean.productoModificado.unidades}" required="true" />


            <p:outputLabel value="Ciudad:" for="ciudad_p"/>
            <p:selectOneMenu id="ciudad_p" value="#{seguridadBean.productoModificado.ciudad}" converter="#{ciudadConverter}" >
                <f:selectItem itemLabel="Seleccione una ciudad" noSelectionOption="true"/>
                <f:selectItems value="#{productoBean.ciudades}" var="ciudad" itemLabel="#{ciudad.nombre}"/>
            </p:selectOneMenu>


            <p:outputLabel value="Descuento:" for="descuento_p"/>
            <p:inputText id="descuento_p" value="#{seguridadBean.productoModificado.descuento}" required="true" />



            <p:outputLabel value="Imagenes: " for="imagen_p" />
            <p:fileUpload id="imagen_p" listener="#{productoBean.subirImagenes}" mode="advanced" multiple="true" sizeLimit="1000000" fileLimit="5" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"  />


            <p:outputLabel  value="Descripcion:" for="descripcion_p"/>
            <p:textEditor styleClass="mt-4" id="descripcion_p" value="#{seguridadBean.productoModificado.descripcion}" height="300" secure="false"/>





        </h:panelGrid>


        <p:commandButton styleClass="mt-4 " value="Actualizar Producto"  update="@form" action="#{seguridadBean.actualizarProducto(seguridadBean.productoModificado)}"/>
        <p:growl for="modificadoP-msj" showDetail="true"/>
    </h:form>






</div>
</ui:define>
</div>
</ui:composition>
</html>